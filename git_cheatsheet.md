# Git コマンドまとめ

## Gitコマンドの設定

- コミットに付加される名前を設定する
```
$ git config --global user.name "<name>"
```

- コミットに付加されるメールアドレスを設定する
```
$ git config -- global user.email "<email>"
```

- コマンドラインの出力を見やすくするための色を設定する
```
$ git config --global color.ui auto
```

## リポジトリの設定

- 指定した名前でローカルリポジトリを作成する
```
$ git init <project-name>
```

- リモートリポジトリの設定を指定した名前で追加する
```
$ git remote add <name> <url>
```

- リモートリポジトリの設定を<old-name>から<new-name>に変更する
```
$ git remote rename <old-name> <new-name>
```

- 指定したURLのリポジトリをローカルリポジトリとして複製する
```
$ git clone <url>
```

## 変更履歴の登録

- リポジトリの状態とステージングエリアの状態を確認する
```
$ git status
```

- ワーキングディレクトリの変更をステージングエリアに追加する
```
$ git add <file>
```

- ワーキングディレクトリのすべての変更をステージングエリアに追加する
```
$ git add --all
$ git add .
```

- ファイルをステージングエリアから外すけど、その内容は保持したままにする
```
$ git reset <file>
```

- ワーキングディレクトリとステージングエリアの差分を表示する
```
$ git diff
```

- ステージングされた変更をコミットする
```
git commit -m "<descriptive message>"
```

- 直前のコミットを新しいコミットで置き換える
```
$ git commit amend
```

## ブランチの操作

- リポジトリ上のローカルブランチ一覧を表示する
```
$ git branch
```

- ローカルブランチとリモート追跡ブランチの一覧を表示する
```
$ git branch -a
```

- 新規ブランチを作成する
```
$ git branch <branch-name>
```

- 指定したブランチに切り替え、ワーキングディレクトリを更新する
```
$ git checkout <branch-name>
```

- 指定したブランチの作成と切り替えを同時に行う
```
$ git checkout -b <branch-name>
```

- 指定したブランチの履歴を現在のブランチに統合する
```
$ git merge <branch>
```

- 指定したローカルブランチを削除する
```
$ git branch -d <branch-name>
```

- 現在のブランチの名前を<branch-name>に変更する
```
$ git branch -m <branch-name>
```

- タグを作成する
```
$ git tag <tag-name>
```

## ファイルの移動

- ワーキングディレクトリからファイルを削除し、削除した履歴をステージングする
```
$ git rm <file>
```

- ステージングエリアからファイルを削除し、ローカルファイルは保持したままにする
```
$ git rm --cashed <file>
```

- ワーキングディレクトリのファイル名（ディレクトリ名）を変更し、ステージングする
```
$ git mv <file-original> <file-renamed>
```

## 一時的な変更の記録

- 変更を監視されているファイルの変更の状態とステージングエリアの状態を保存し、HEADの状態までクリーンに戻す
```
$ git stash
```

- 一時保存された記録（スタッシュ）を一覧で表示する
```
$ git stash list
```

- 直近に一時保存された記録（スタッシュ）から、記録内容をワーキングディレクトリに反映する
```
$ git stash pop
```

- 直近に一時保存された記録（スタッシュ）を破棄する
```
$ git stash drop
```

## 履歴の確認

- 現在のブランチのバージョン管理を一覧で表示する
```
$ git log
```

- 現在のブランチのバージョン履歴を一覧で表示する時に、各履歴を一行で表示する
```
$ git log --oneline
```

- 名前の変更を含む指定したファイルのバージョン履歴の一覧を表示する
```
$ git log --follow <file>
```

- 2つのブランチ間の差分を表示する
```
$ git diff <first-branch>...<second-branch>
```

- 指定されたコミットのメタ情報と変更内容を出力する
```
$ git show <commit>
```

- 指定したファイルの各行毎に最終変更の情報を表示する
```
$ git blame <file>
```

- 指定コミットのリビジョンの内容をワーキングディレクトリに反映する
```
$ git checkout <commit>
```

- 指定コミットによって加えられた変更をもとに戻す新しいコミットを生成し、適用する
```
$ git revert <commit>
```

- 現在のブランチのHEADを指定コミットまで移動し、ステージングされた内容をクリアし、ワーキングディレクトリの変更状態を保つ
```
$ git reset --hard <commit>
```

- 指定ブランチの内容を自動チェックアウトし、現在のブランチで加えられた変更履歴を退避し、1つ1つコミットし直して履歴を作成する
```
$ git rebase <branch>
```

## リモートリポジトリの変更を同期

- リモートリポジトリからすべてのブランチ変更履歴をリモート追跡ブランチに取り込む
```
$ git fetch <remote>
```

- リモート追跡ブランチを指定のブランチに統合する
```
$ git merge <remote track branch> <branch>
```

- リモートリポジトリが .git/configに指定されている場合、現在のブランチのリモートの履歴を更新する
```
$ git push
```

- <refspec>として指定した名前をローカルリポジトリから探し、指定したリモートリポジトリの同名の参照を更新する（ブランチ名を指定した場合は、ブランチ名を含む参照をローカルリポジトリから検索し、リモートリポジトリの同名の参照を更新する）
```
$ git push <remote repository> <refspec>
```

- リモートブランチの更新履歴をリモート追跡ブランチに取り込み、リモートブランチを現在のブランチにマージする
```
$ git pull <remote repository>
```
